# ğŸ PinSieve â€” Chrome Extension

Analyze Pinterest boards to generate highly personalized gift ideas using Claude AI.

## How It Works

```
Pinterest Board â†’ Scrape Pins â†’ Claude AI Analysis â†’ Knowledge Graph â†’ Gift Ideas â†’ Amazon/Etsy Links
```

1. **Content Script** scrapes pin titles, images, and descriptions from Pinterest boards
2. **Claude AI** analyzes the pins to extract aesthetic themes, interests, and style preferences  
3. A **Knowledge Graph** is built and stored locally in IndexedDB (your device only)
4. **Gift ideas** are generated by asking Claude to match products to the taste profile
5. **Shopping links** auto-generate for Amazon, Etsy, and Google Shopping

---

## Setup

### 1. Install from the Chrome Web Store

1. Open the Chrome Web Store link for PinSieve
2. Click **Add to Chrome**
3. Click **Add extension** to confirm
4. Pin the extension from the puzzle icon in the toolbar

### 2. Add Your API Key (*Optional)

1. Click the extension icon in the Chrome toolbar
2. Open Settings page
3. Toggle 'Use your own API key'
4. Paste your API Key
5. Click **Save Key**

### 3. Start Scanning

1. Visit any Pinterest board, for example `pinterest.com/username/board-name/`
2. The extension scans automatically on page load, or click **Scan Now**
3. After scanning multiple boards, open thee Boards page
4. Click **Analyze** for all boards you want to use

### 4. Generate Gift Ideas

1. Navigate to the Home page
2. Click **Generate Gift Ideas**

1. Navigate to the Graph Explorer page
2. Select tags to use in generation
3. Click **Generate Gift Ideas**

---

## File Structure

```
pinsieve-chrome-extension/
â”œâ”€â”€ manifest.json          # Extension config (Manifest V3)
â”œâ”€â”€ background/
â”‚   â””â”€â”€ worker.js          # Service worker: Claude API + knowledge graph
â”œâ”€â”€ content/
â”‚   â””â”€â”€ scraper.js         # Pinterest page scraper
â”‚   â””â”€â”€ image-rag.js       # Analyzes images for use in gift ideas
â”œâ”€â”€ popup/
â”‚   â”œâ”€â”€ index.html         # Popup UI
â”‚   â””â”€â”€ popup.js           # Popup logic
â””â”€â”€ icons/                 # Extension icons (16px, 48px, 128px PNGs)
```

---

## Roadmap / Next Steps

### v1.1 â€” Amazon Product API
- Integrate real Amazon Product Advertising API for actual product data + pricing
- Show real product images in gift cards
- Requires Amazon Associates account

### v1.2 â€” Improve Image Vision Analysis
- Use vision API to analyze actual pin images (not just alt text)
- Requires fetching images as base64 via background worker (bypasses CORS)
- Much richer style/color extraction

## v1.2 - Misc Ideas
- Board-level weighting (e.g., "Home Decor" board counts more than "Recipes")
- Email integration

---

## Privacy
- All data is stored **locally** on your device in Chrome's IndexedDB
- Your API key is stored locally and only sent to Anthropic's API
- No data is sent to any third-party server
- Pin data never leaves your browser except via the Claude API call

---

## Tech Stack
- **Chrome Extension** Manifest V3
- **Claude AI** (claude-opus-4-6) for pin analysis + gift generation
- **IndexedDB** for local knowledge graph storage
- **Vanilla JS** â€” no build step required

## Known Limitations
- Pinterest's DOM structure changes occasionally â€” scraping may need updates
- Pinterest requires login for some boards; extension works only on visible content
- Image analysis uses alt text only in v1 (not actual image pixels)
- Amazon links go to search results, not specific products (until PA-API integration)
